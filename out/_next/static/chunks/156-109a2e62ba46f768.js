"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1160:function(e,t,r){r.d(t,{Z:function(){return h}});var s=r(3827),n=r(8792),a=r(7907),i=r(3779),o=r(3536),c=r(3768),d=r(1067),l=r(3478),u=r(1040),m=r(7913);function h(){let e=(0,a.usePathname)(),{user:t,logout:r}=(0,i.useAuth)();if(!t)return null;let h=t=>e===t,x=[{name:"Dashboard",href:"/dashboard",icon:o.Z},{name:"Add Expense",href:"/add-expense",icon:c.Z},{name:"History",href:"/history",icon:d.Z},{name:"Financial Tasks",href:"/financial-tasks",icon:l.Z}];return(0,s.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-100",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"ExpenseTracker"})}),(0,s.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:x.map(e=>{let t=e.icon;return(0,s.jsxs)(n.default,{href:e.href,className:"inline-flex items-center px-3 py-2 border-b-2 text-sm font-medium transition-colors duration-200 ".concat(h(e.href)?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[(0,s.jsx)(t,{className:"h-5 w-5 mr-2"}),e.name]},e.name)})})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"ml-3 relative",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-8 w-8 text-gray-400"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:t.name})]}),(0,s.jsxs)("button",{onClick:()=>{r()},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"Logout"]})]})})})]})})})}},6770:function(e,t,r){r.d(t,{Z:function(){return c}});var s=r(3827),n=r(4090),a=r(3835),i=r(3753),o=r(8621);function c(e){let{message:t,type:r,onClose:c}=e;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{c()},3e3);return()=>clearTimeout(e)},[c]),(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,s.jsxs)("div",{className:"rounded-lg p-4 flex items-center space-x-2 shadow-lg ".concat("success"===r?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===r?(0,s.jsx)(a.Z,{className:"h-5 w-5 text-green-400"}):(0,s.jsx)(i.Z,{className:"h-5 w-5 text-red-400"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:t}),(0,s.jsx)("button",{onClick:c,className:"ml-4 inline-flex rounded-md p-1.5 hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat("success"===r?"hover:bg-green-200 focus:ring-green-500":"hover:bg-red-200 focus:ring-red-500"),children:(0,s.jsx)(o.Z,{className:"h-5 w-5"})})]})})}},8543:function(e,t,r){r.d(t,{Z:function(){return u}});var s=r(3827),n=r(3125),a=r(3835),i=r(1067),o=r(4090);let c=o.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?o.createElement("title",{id:s},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))});var d=r(8621);let l=e=>{let t="string"==typeof e?parseFloat(e):e;return"LKR ".concat(t.toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2}))};function u(e){let{todo:t,onStatusChange:r,onDelete:o}=e,u=e=>{switch(e){case"Completed":return"text-green-500";case"InProgress":return"text-blue-500";default:return"text-gray-500"}},m=(e=>{switch(e){case"Completed":return a.Z;case"InProgress":return i.Z;default:return c}})(t.status);return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),(0,s.jsx)("button",{onClick:()=>o(t.id),className:"text-gray-400 hover:text-red-500 transition-colors duration-200",children:(0,s.jsx)(d.Z,{className:"h-5 w-5"})})]}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:t.description}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,s.jsxs)("span",{className:"text-gray-600",children:["Due: ",(0,n.WU)(new Date(t.dueDate),"MMM d, yyyy")]})]}),t.budget&&(0,s.jsx)("div",{className:"flex items-center text-sm",children:(0,s.jsxs)("span",{className:"text-gray-600",children:["Budget: ",l(t.budget)]})}),t.category&&(0,s.jsx)("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:t.category})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m,{className:"h-5 w-5 mr-2 ".concat(u(t.status))}),(0,s.jsxs)("select",{value:t.status,onChange:e=>r(t.id,e.target.value),className:"text-sm font-medium ".concat(u(t.status)," bg-transparent border-none focus:ring-0 cursor-pointer"),children:[(0,s.jsx)("option",{value:"Todo",children:"Todo"}),(0,s.jsx)("option",{value:"InProgress",children:"In Progress"}),(0,s.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,s.jsxs)("div",{className:"text-sm font-medium ".concat((e=>{switch(e){case"High":return"text-red-500";case"Medium":return"text-yellow-500";case"Low":return"text-green-500";default:return"text-gray-500"}})(t.priority)),children:[t.priority," Priority"]})]})]})}},3779:function(e,t,r){r.r(t),r.d(t,{AuthProvider:function(){return c},useAuth:function(){return d}});var s=r(3827),n=r(4090),a=r(7907),i=r(146);let o=(0,n.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,n.useState)(null),[d,l]=(0,n.useState)(!0),u=(0,a.useRouter)();(0,n.useEffect)(()=>{if(i.Z.get("auth_token")){let e=localStorage.getItem("current_user");e&&c(JSON.parse(e))}l(!1)},[]);let m=e=>{localStorage.getItem("expenses_".concat(e))||localStorage.setItem("expenses_".concat(e),JSON.stringify([{id:"1",amount:150.5,category:"Food",date:"2024-03-15",description:"Grocery shopping at Walmart",userId:e},{id:"2",amount:45,category:"Transport",date:"2024-03-14",description:"Gas station refill",userId:e},{id:"3",amount:200,category:"Bills",date:"2024-03-13",description:"Monthly electricity bill",userId:e},{id:"4",amount:75.25,category:"Entertainment",date:"2024-03-12",description:"Movie night with friends",userId:e},{id:"5",amount:120,category:"Shopping",date:"2024-03-11",description:"New clothes from H&M",userId:e},{id:"6",amount:85,category:"Healthcare",date:"2024-03-10",description:"Monthly medicine prescription",userId:e},{id:"7",amount:299.99,category:"Education",date:"2024-03-09",description:"Online course subscription",userId:e},{id:"8",amount:500,category:"Savings",date:"2024-03-08",description:"Monthly savings deposit",userId:e},{id:"9",amount:65.5,category:"Food",date:"2024-03-07",description:"Restaurant dinner",userId:e},{id:"10",amount:35,category:"Transport",date:"2024-03-06",description:"Uber ride",userId:e},{id:"11",amount:89.99,category:"Bills",date:"2024-03-05",description:"Internet bill",userId:e},{id:"12",amount:150,category:"Shopping",date:"2024-03-04",description:"Electronics accessories",userId:e},{id:"13",amount:250,category:"Healthcare",date:"2024-03-03",description:"Dental checkup",userId:e},{id:"14",amount:50,category:"Entertainment",date:"2024-03-02",description:"Gaming subscription",userId:e},{id:"15",amount:1e3,category:"Savings",date:"2024-03-01",description:"Emergency fund contribution",userId:e}]))},h=async(e,t)=>{try{if("tishanrashmika00@gmail.com"===e&&"Tishan@123"===t){let t={id:"1",email:e,name:"Tishan Rashmika"};localStorage.setItem("current_user",JSON.stringify(t)),c(t),i.Z.set("auth_token","demo_token",{expires:1}),m(t.id),u.push("/dashboard");return}let r=JSON.parse(localStorage.getItem("registeredUsers")||"[]").find(t=>t.email.toLowerCase()===e.toLowerCase());if(!r||r.password!==t)throw Error("Invalid credentials");let s={id:r.id,email:r.email,name:r.name};localStorage.setItem("current_user",JSON.stringify(s)),c(s),i.Z.set("auth_token","user_token",{expires:1}),m(s.id),u.push("/dashboard")}catch(e){throw console.error("Login error:",e),e}},x=async(e,t,r)=>{try{let s=JSON.parse(localStorage.getItem("registeredUsers")||"[]");if(s.some(t=>t.email.toLowerCase()===e.toLowerCase()))throw Error("Email already registered");let n=Date.now().toString();s.push({id:n,email:e,name:t,password:r}),localStorage.setItem("registeredUsers",JSON.stringify(s));let a={id:n,email:e,name:t};localStorage.setItem("current_user",JSON.stringify(a)),c(a),i.Z.set("auth_token","user_token",{expires:1}),m(n),u.push("/dashboard")}catch(e){throw console.error("Signup error:",e),e}},g=()=>{localStorage.removeItem("current_user"),i.Z.remove("auth_token"),c(null),u.push("/login")};return(0,n.useEffect)(()=>{let e=()=>{g()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,s.jsx)(o.Provider,{value:{user:r,isLoading:d,login:h,signup:x,logout:g},children:t})}function d(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);