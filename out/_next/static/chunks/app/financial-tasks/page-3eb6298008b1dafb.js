(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{7020:function(e,t,s){Promise.resolve().then(s.bind(s,4453))},4453:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(3827),a=s(4090),r=s(3779),i=s(3125),o=s(1160),d=s(8543),n=s(6770);let u=[{id:"1",title:"Pay Electricity Bill",description:"Pay the monthly electricity bill before due date",priority:"High",status:"Todo",dueDate:"2024-03-20",budget:15e3,category:"Bills",userId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",title:"Review Monthly Budget",description:"Review and adjust monthly budget categories",priority:"Medium",status:"InProgress",dueDate:"2024-03-25",category:"Budgeting",userId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",title:"Save for Vacation",description:"Transfer money to vacation savings account",priority:"Low",status:"Completed",dueDate:"2024-03-15",budget:5e4,category:"Savings",userId:"1",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function c(){let{user:e}=(0,r.useAuth)(),[t,s]=(0,a.useState)([]),[c,g]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)({status:"",priority:"",category:""}),[b,y]=(0,a.useState)({title:"",description:"",priority:"medium",dueDate:(0,i.WU)(new Date,"yyyy-MM-dd"),budget:"",category:""}),[v,j]=(0,a.useState)(!1),[f,w]=(0,a.useState)(""),[N,S]=(0,a.useState)("success");(0,a.useEffect)(()=>{s(u),g(u)},[]),(0,a.useEffect)(()=>{let e=[...t];x.status&&(e=e.filter(e=>e.status===x.status)),x.priority&&(e=e.filter(e=>e.priority===x.priority)),x.category&&(e=e.filter(e=>e.category===x.category)),g(e)},[x,t]);let k=(e,l)=>{s(t.map(t=>t.id===e?{...t,status:l,updatedAt:new Date().toISOString()}:t)),C("Todo status updated successfully","success")},D=e=>{s(t.filter(t=>t.id!==e)),C("Todo deleted successfully","success")},C=(e,t)=>{w(e),S(t),j(!0),setTimeout(()=>j(!1),3e3)};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(o.Z,{}),(0,l.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Financial Tasks"}),(0,l.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Task"})]}),(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,l.jsxs)("select",{value:x.status,onChange:e=>p({...x,status:e.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"All"}),(0,l.jsx)("option",{value:"Todo",children:"Todo"}),(0,l.jsx)("option",{value:"InProgress",children:"In Progress"}),(0,l.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,l.jsxs)("select",{value:x.priority,onChange:e=>p({...x,priority:e.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"All"}),(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"high",children:"High"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,l.jsxs)("select",{value:x.category,onChange:e=>p({...x,category:e.target.value}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"All"}),(0,l.jsx)("option",{value:"Food",children:"Food"}),(0,l.jsx)("option",{value:"Transport",children:"Transport"}),(0,l.jsx)("option",{value:"Bills",children:"Bills"}),(0,l.jsx)("option",{value:"Entertainment",children:"Entertainment"}),(0,l.jsx)("option",{value:"Shopping",children:"Shopping"}),(0,l.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,l.jsx)("option",{value:"Education",children:"Education"}),(0,l.jsx)("option",{value:"Savings",children:"Savings"}),(0,l.jsx)("option",{value:"Budgeting",children:"Budgeting"})]})]})]})}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>(0,l.jsx)(d.Z,{todo:e,onStatusChange:k,onDelete:D},e.id))}),m&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Task"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,l.jsx)("input",{type:"text",value:b.title,onChange:e=>y({...b,title:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,l.jsx)("textarea",{value:b.description,onChange:e=>y({...b,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),(0,l.jsx)("input",{type:"date",value:b.dueDate,onChange:e=>y({...b,dueDate:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Budget (LKR)"}),(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:"LKR"}),(0,l.jsx)("input",{type:"number",value:b.budget,onChange:e=>y({...b,budget:e.target.value}),className:"pl-12 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",min:"0",step:"0.01",placeholder:"0.00"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,l.jsxs)("select",{value:b.category,onChange:e=>y({...b,category:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select a category"}),(0,l.jsx)("option",{value:"Food",children:"Food"}),(0,l.jsx)("option",{value:"Transport",children:"Transport"}),(0,l.jsx)("option",{value:"Bills",children:"Bills"}),(0,l.jsx)("option",{value:"Entertainment",children:"Entertainment"}),(0,l.jsx)("option",{value:"Shopping",children:"Shopping"}),(0,l.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,l.jsx)("option",{value:"Education",children:"Education"}),(0,l.jsx)("option",{value:"Savings",children:"Savings"}),(0,l.jsx)("option",{value:"Budgeting",children:"Budgeting"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,l.jsxs)("select",{value:b.priority,onChange:e=>y({...b,priority:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{if(!b.title||!b.description||!b.dueDate||!b.category){C("Please fill in all required fields","error");return}s([...t,{id:Date.now().toString(),...b,status:"Todo",userId:(null==e?void 0:e.id)||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),budget:b.budget?parseFloat(b.budget):void 0}]),h(!1),y({title:"",description:"",priority:"medium",dueDate:(0,i.WU)(new Date,"yyyy-MM-dd"),budget:"",category:""}),C("Todo added successfully","success")},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Add Task"})]})]})})]}),v&&(0,l.jsx)(n.Z,{message:f,type:N,onClose:()=>j(!1)})]})}}},function(e){e.O(0,[250,355,156,971,69,744],function(){return e(e.s=7020)}),_N_E=e.O()}]);