(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{8119:function(e,t,r){Promise.resolve().then(r.bind(r,5999))},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(5250),n=r.n(s)},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},5999:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(3827),n=r(4090),o=r(7907),a=r(8792),i=r(3779),d=r(6782),c=r(6770);function l(){let[e,t]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),[h,g]=(0,n.useState)({}),[x,w]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[y,j]=(0,n.useState)(""),[N,k]=(0,n.useState)("success"),S=(0,o.useRouter)(),{signup:C}=(0,i.useAuth)(),I=()=>{let t={},s=(0,d.Ol)(e),n=(0,d.oH)(r),o=(0,d.uo)(u);return s&&(t.name=s),n&&(t.email=n),o&&(t.password=o),u!==f&&(t.confirmPassword="Passwords do not match"),g(t),0===Object.keys(t).length},E=async t=>{if(t.preventDefault(),g({}),!I()){j("Please fix the errors in the form"),k("error"),v(!0);return}w(!0);try{await C(r,u,e),j("Account created successfully!"),k("success"),v(!0),S.push("/dashboard")}catch(e){j("Failed to create account. Please try again."),k("error"),v(!0)}finally{w(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[b&&(0,s.jsx)(c.Z,{message:y,type:N,onClose:()=>v(!1)}),(0,s.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,s.jsxs)("form",{className:"space-y-6",onSubmit:E,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:e,onChange:e=>{t(e.target.value),h.name&&g(e=>({...e,name:void 0}))},className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(h.name?"border-red-300":"border-gray-300")}),h.name&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.name})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>{l(e.target.value),h.email&&g(e=>({...e,email:void 0}))},className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(h.email?"border-red-300":"border-gray-300")}),h.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:u,onChange:e=>{m(e.target.value),h.password&&g(e=>({...e,password:void 0}))},className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(h.password?"border-red-300":"border-gray-300")}),h.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:f,onChange:e=>{p(e.target.value),h.confirmPassword&&g(e=>({...e,confirmPassword:void 0}))},className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(h.confirmPassword?"border-red-300":"border-gray-300")}),h.confirmPassword&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-colors duration-200",children:x?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Creating account..."]}):"Create account"})})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(a.default,{href:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-indigo-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:"Sign in to your account"})})]})]})})]})}},6770:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(3827),n=r(4090),o=r(3835),a=r(3753),i=r(8621);function d(e){let{message:t,type:r,onClose:d}=e;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{d()},3e3);return()=>clearTimeout(e)},[d]),(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,s.jsxs)("div",{className:"rounded-lg p-4 flex items-center space-x-2 shadow-lg ".concat("success"===r?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===r?(0,s.jsx)(o.Z,{className:"h-5 w-5 text-green-400"}):(0,s.jsx)(a.Z,{className:"h-5 w-5 text-red-400"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:t}),(0,s.jsx)("button",{onClick:d,className:"ml-4 inline-flex rounded-md p-1.5 hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat("success"===r?"hover:bg-green-200 focus:ring-green-500":"hover:bg-red-200 focus:ring-red-500"),children:(0,s.jsx)(i.Z,{className:"h-5 w-5"})})]})})}},3779:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return d},useAuth:function(){return c}});var s=r(3827),n=r(4090),o=r(7907),a=r(146);let i=(0,n.createContext)(void 0);function d(e){let{children:t}=e,[r,d]=(0,n.useState)(null),[c,l]=(0,n.useState)(!0),u=(0,o.useRouter)();(0,n.useEffect)(()=>{if(a.Z.get("auth_token")){let e=localStorage.getItem("current_user");e&&d(JSON.parse(e))}l(!1)},[]);let m=e=>{localStorage.getItem("expenses_".concat(e))||localStorage.setItem("expenses_".concat(e),JSON.stringify([{id:"1",amount:150.5,category:"Food",date:"2024-03-15",description:"Grocery shopping at Walmart",userId:e},{id:"2",amount:45,category:"Transport",date:"2024-03-14",description:"Gas station refill",userId:e},{id:"3",amount:200,category:"Bills",date:"2024-03-13",description:"Monthly electricity bill",userId:e},{id:"4",amount:75.25,category:"Entertainment",date:"2024-03-12",description:"Movie night with friends",userId:e},{id:"5",amount:120,category:"Shopping",date:"2024-03-11",description:"New clothes from H&M",userId:e},{id:"6",amount:85,category:"Healthcare",date:"2024-03-10",description:"Monthly medicine prescription",userId:e},{id:"7",amount:299.99,category:"Education",date:"2024-03-09",description:"Online course subscription",userId:e},{id:"8",amount:500,category:"Savings",date:"2024-03-08",description:"Monthly savings deposit",userId:e},{id:"9",amount:65.5,category:"Food",date:"2024-03-07",description:"Restaurant dinner",userId:e},{id:"10",amount:35,category:"Transport",date:"2024-03-06",description:"Uber ride",userId:e},{id:"11",amount:89.99,category:"Bills",date:"2024-03-05",description:"Internet bill",userId:e},{id:"12",amount:150,category:"Shopping",date:"2024-03-04",description:"Electronics accessories",userId:e},{id:"13",amount:250,category:"Healthcare",date:"2024-03-03",description:"Dental checkup",userId:e},{id:"14",amount:50,category:"Entertainment",date:"2024-03-02",description:"Gaming subscription",userId:e},{id:"15",amount:1e3,category:"Savings",date:"2024-03-01",description:"Emergency fund contribution",userId:e}]))},f=async(e,t)=>{try{if("tishanrashmika00@gmail.com"===e&&"Tishan@123"===t){let t={id:"1",email:e,name:"Tishan Rashmika"};localStorage.setItem("current_user",JSON.stringify(t)),d(t),a.Z.set("auth_token","demo_token",{expires:1}),m(t.id),u.push("/dashboard");return}let r=JSON.parse(localStorage.getItem("registeredUsers")||"[]").find(t=>t.email.toLowerCase()===e.toLowerCase());if(!r||r.password!==t)throw Error("Invalid credentials");let s={id:r.id,email:r.email,name:r.name};localStorage.setItem("current_user",JSON.stringify(s)),d(s),a.Z.set("auth_token","user_token",{expires:1}),m(s.id),u.push("/dashboard")}catch(e){throw console.error("Login error:",e),e}},p=async(e,t,r)=>{try{let s=JSON.parse(localStorage.getItem("registeredUsers")||"[]");if(s.some(t=>t.email.toLowerCase()===e.toLowerCase()))throw Error("Email already registered");let n=Date.now().toString();s.push({id:n,email:e,name:t,password:r}),localStorage.setItem("registeredUsers",JSON.stringify(s));let o={id:n,email:e,name:t};localStorage.setItem("current_user",JSON.stringify(o)),d(o),a.Z.set("auth_token","user_token",{expires:1}),m(n),u.push("/dashboard")}catch(e){throw console.error("Signup error:",e),e}},h=()=>{localStorage.removeItem("current_user"),a.Z.remove("auth_token"),d(null),u.push("/login")};return(0,n.useEffect)(()=>{let e=()=>{h()};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,s.jsx)(i.Provider,{value:{user:r,isLoading:c,login:f,signup:p,logout:h},children:t})}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6782:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},oH:function(){return s},uo:function(){return n}});let s=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address":"Email is required",n=e=>e?e.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?/[!@#$%^&*]/.test(e)?null:"Password must contain at least one special character (!@#$%^&*)":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required",o=e=>e?e.length<2?"Name must be at least 2 characters long":/^[a-zA-Z\s]*$/.test(e)?null:"Name can only contain letters and spaces":"Name is required"},3835:function(e,t,r){"use strict";var s=r(4090);let n=s.forwardRef(function(e,t){let{title:r,titleId:n,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},o),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},3753:function(e,t,r){"use strict";var s=r(4090);let n=s.forwardRef(function(e,t){let{title:r,titleId:n,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},o),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},8621:function(e,t,r){"use strict";var s=r(4090);let n=s.forwardRef(function(e,t){let{title:r,titleId:n,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},o),r?s.createElement("title",{id:n},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=n},146:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{Z:function(){return n}});var n=function e(t,r){function n(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=s({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in o)o[i]&&(a+="; "+i,!0!==o[i]&&(a+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},n=0;n<r.length;n++){var o=r[n].split("="),a=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(s[i]=t.read(a,i),e===i)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){n(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[250,971,69,744],function(){return e(e.s=8119)}),_N_E=e.O()}]);